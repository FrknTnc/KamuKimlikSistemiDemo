{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import\"./css/LoginForm.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(){const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const handleLogin=async e=>{e.preventDefault();setError(\"\");try{const response=await axios.post(\"http://127.0.0.1:50953/api/auth/login\",{username,password});const token=response.data.replace(\"Bearer \",\"\");localStorage.setItem(\"token\",token);alert(\"GiriÅŸ baÅŸarÄ±lÄ±!\");}catch(err){console.error(\"GiriÅŸ hatasÄ±:\",err);// ðŸ”½ Sunucudan gelen Ã¶zel hata mesajÄ±nÄ± gÃ¶ster\nif(err.response&&err.response.data){setError(err.response.data);// Ã¶rn: \"Ã‡ok fazla hatalÄ± giriÅŸ yapÄ±ldÄ±...\"\n}else{setError(\"Sunucu hatasÄ± oluÅŸtu.\");}}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"JWT Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Kullan\\u0131c\\u0131 Ad\\u0131\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u015Eifre\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Giri\\u015F Yap\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"p\",{className:\"register-link\",children:[\"Hesab\\u0131n yok mu? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Kay\\u0131t Ol\"})]})]})});}export default LoginForm;","map":{"version":3,"names":["React","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","LoginForm","username","setUsername","password","setPassword","error","setError","handleLogin","e","preventDefault","response","post","token","data","replace","localStorage","setItem","alert","err","console","className","children","onSubmit","type","placeholder","value","onChange","target","to"],"sources":["/Users/furkantunc/Desktop/kamu-kimlik-sistemi/jwt-auth-client/src/components/LoginForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./css/LoginForm.css\";\n\nfunction LoginForm() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      const response = await axios.post(\"http://127.0.0.1:50953/api/auth/login\", {\n        username,\n        password,\n      });\n\n      const token = response.data.replace(\"Bearer \", \"\");\n      localStorage.setItem(\"token\", token);\n      alert(\"GiriÅŸ baÅŸarÄ±lÄ±!\");\n    } catch (err) {\n        console.error(\"GiriÅŸ hatasÄ±:\", err);\n\n        // ðŸ”½ Sunucudan gelen Ã¶zel hata mesajÄ±nÄ± gÃ¶ster\n        if (err.response && err.response.data) {\n            setError(err.response.data); // Ã¶rn: \"Ã‡ok fazla hatalÄ± giriÅŸ yapÄ±ldÄ±...\"\n        } else {\n            setError(\"Sunucu hatasÄ± oluÅŸtu.\");\n        }\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <form className=\"login-form\" onSubmit={handleLogin}>\n        <h2>JWT Login</h2>\n        <input\n          type=\"text\"\n          placeholder=\"KullanÄ±cÄ± AdÄ±\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Åžifre\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button type=\"submit\">GiriÅŸ Yap</button>\n        {error && <p className=\"error\">{error}</p>}\n\n        <p className=\"register-link\">\n          HesabÄ±n yok mu? <Link to=\"/register\">KayÄ±t Ol</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAc,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBH,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,IAAI,CAAC,uCAAuC,CAAE,CACzEV,QAAQ,CACRE,QACF,CAAC,CAAC,CAEF,KAAM,CAAAS,KAAK,CAAGF,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,SAAS,CAAE,EAAE,CAAC,CAClDC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,KAAK,CAAC,CACpCK,KAAK,CAAC,iBAAiB,CAAC,CAC1B,CAAE,MAAOC,GAAG,CAAE,CACVC,OAAO,CAACd,KAAK,CAAC,eAAe,CAAEa,GAAG,CAAC,CAEnC;AACA,GAAIA,GAAG,CAACR,QAAQ,EAAIQ,GAAG,CAACR,QAAQ,CAACG,IAAI,CAAE,CACnCP,QAAQ,CAACY,GAAG,CAACR,QAAQ,CAACG,IAAI,CAAC,CAAE;AACjC,CAAC,IAAM,CACHP,QAAQ,CAAC,uBAAuB,CAAC,CACrC,CACJ,CACF,CAAC,CAED,mBACET,IAAA,QAAKuB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BtB,KAAA,SAAMqB,SAAS,CAAC,YAAY,CAACE,QAAQ,CAAEf,WAAY,CAAAc,QAAA,eACjDxB,IAAA,OAAAwB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBxB,IAAA,UACE0B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,8BAAe,CAC3BC,KAAK,CAAExB,QAAS,CAChByB,QAAQ,CAAGlB,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACF5B,IAAA,UACE0B,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,YAAO,CACnBC,KAAK,CAAEtB,QAAS,CAChBuB,QAAQ,CAAGlB,CAAC,EAAKJ,WAAW,CAACI,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACF5B,IAAA,WAAQ0B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gBAAS,CAAQ,CAAC,CACvChB,KAAK,eAAIR,IAAA,MAAGuB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEhB,KAAK,CAAI,CAAC,cAE1CN,KAAA,MAAGqB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,uBACX,cAAAxB,IAAA,CAACF,IAAI,EAACiC,EAAE,CAAC,WAAW,CAAAP,QAAA,CAAC,eAAQ,CAAM,CAAC,EACnD,CAAC,EACA,CAAC,CACJ,CAAC,CAEV,CAEA,cAAe,CAAArB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}